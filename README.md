# cpu_for_nscscc2022_single

## 项目说明

本项目是基于Nova132A开发的龙芯杯个人赛参赛作品。

该仓库branch记录了本项目的开发过程。以下为各branch的大致内容，以便检索。

| branch | 简介 |
|-|-|
|submit1|八级流水，直连sram，第一个通过的版本|
|submit2|八级流水，增加写回型icache和dcache，通过自定义握手协议连接sram控制器|
|submit3|七级流水，59M，预赛提交版本|
|submit4|七级流水，在submit3的基础上增加写直达型icache和dcache，后发现dcache对测试效果不佳，故去除。110M|
|submit5|在submit4基础上增加分支预测，因未知原因综合结果无法正常运行|
|submit6|七级流水，使用写直达型icache，115M|
|submit7|七级流水，在submit6的基础上增加简易分支预测，113M|

## 性能测试改进过程
| STREAM | MATRIX | CRYPTONIGHT | 频率 | 改进内容 |
|-|-|-|-|-|
|0.122s|0.175s|0.807s|100M|在submit3基础上增加写直达型cache|
|0.106s|0.157s|0.754s|100M|简化sram写过程状态机,4周期->2周期|
|0.098s|0.148s|0.728s|100M|简化sram写过程状态机,2周期->1周期|
|0.096s|0.146s|0.686s|100M|简化cacheline读取过程|
|0.104s|0.161s|0.378s|100M|去掉dcache|
|0.096s|0.152s|0.351s|100M|优化sram写过程|
|0.088s|0.138s|0.319s|110M|提高频率|
|0.084s|0.132s|0.305s|115M|提高频率|
|0.095s|0.146s|0.329s|110M|修改bru位置，从id段移至ex段|
|0.088s|0.130s|0.300s|110M|优化数据读取过程|
|0.084s|0.117s|0.287s|115M|提高频率|
|0.088s|0.125s|0.309s|100M|增加分支预测器|
|0.080s|0.114s|0.281s|110M|提高频率|
|0.073s|0.106s|0.257s|110M|优化数据写过程，取消写暂停|
|0.071s|0.103s|0.251s|113M|提高频率，决赛性能|

## 决赛汇编程序

题目与本人实现的答案存放于 __submit7__ 的asm文件夹

## 推广

欢迎参加龙芯杯，群号：583344130